(self.webpackChunkblog=self.webpackChunkblog||[]).push([[493],{86493:function(e,t,r){"use strict";r.r(t);r(41539),r(88674),r(74916),r(15306),r(35666);var n=r(63804),a=r.n(n),o=r(39967),s=r(82482),l=r(55026),c=r(39668),i=r(66132),u=r(71230),m=r(15746),p=r(71577),d=r(847),f=r(80051),y=r(85344);function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function h(e,t,r,n,a,o,s){try{var l=e[o](s),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(n,a)}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,o=void 0;try{for(var s,l=e[Symbol.iterator]();!(n=(s=l.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw o}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var w={labelCol:{span:5},wrapperCol:{span:16}},E={wrapperCol:{offset:5,span:16}},Z=(0,n.memo)((function(){var e,t=(0,d.useHistory)(),r=b(s.Z.useForm(),1)[0],v=b((0,f.G2)(o.zA.k_),4),Z=v[1],P=v[3],k=(0,n.useCallback)((function(){r.validateFields().then(function(){var e,r=(e=regeneratorRuntime.mark((function e(r){var n,a,s,c,i,u,m,p;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.captcha,a=r.account,s=r.password,l.ZP.loading({content:"正在注册...",key:"register",duration:0}),e.next=4,o.zA.Sw(n);case 4:if(c=e.sent,!b(c,2)[1]){e.next=10;break}return l.ZP.error({content:"验证码错误",key:"register"}),e.abrupt("return");case 10:return i=(0,y.qC)(s),e.next=13,o.zA.z2({account:a,password:i});case 13:if(u=e.sent,m=b(u,2),!(p=m[1])){e.next=19;break}return l.ZP.error({content:p.message||"注册失败",key:"register"}),e.abrupt("return");case 19:l.ZP.success({content:"注册成功",key:"register"}),t.replace("/login");case 21:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function s(e){h(o,n,a,s,l,"next",e)}function l(e){h(o,n,a,s,l,"throw",e)}s(void 0)}))});return function(e){return r.apply(this,arguments)}}()).catch((function(){l.ZP.error("请检查表单是否填写无误")}))}),[r,t]);return a().createElement("div",{style:{minHeight:"100vh",background:"#f0f2f5",display:"flex",justifyContent:"center",alignItems:"center"}},a().createElement(c.Z,{style:{width:600}},a().createElement("div",{className:"mt15 mb20",style:{display:"flex",justifyContent:"center",alignItems:"center"}},a().createElement("img",{src:"".concat("","/public/assets/images/logo.png"),style:{width:40,height:40,borderRadius:"50%"}}),a().createElement("span",{style:{fontSize:36,fontWeight:"bold",marginLeft:16}},"briefNull")),a().createElement(s.Z,g({},w,{form:r,name:"register"}),a().createElement(s.Z.Item,{label:"Account",name:"account",rules:[{required:!0,message:"Please input your account!"}]},a().createElement(i.Z,null)),a().createElement(s.Z.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Please input your password!"}]},a().createElement(i.Z.Password,null)),a().createElement(s.Z.Item,{label:"Re Password",name:"rePassword",dependencies:["password"],rules:[{required:!0,message:"Please input your password!"},function(e){var t=e.getFieldValue;return{validator:function(e,r){return r&&t("password")!==r?Promise.reject(new Error("The two passwords that you entered do not match!")):Promise.resolve()}}}]},a().createElement(i.Z.Password,null)),a().createElement(s.Z.Item,{label:"Captcha"},a().createElement(u.Z,{gutter:8},a().createElement(m.Z,{span:18},a().createElement(s.Z.Item,{noStyle:!0,name:"captcha",rules:[{required:!0,message:"Please input captcha!"}]},a().createElement(i.Z,{placeholder:"captcha"}))),a().createElement(m.Z,{span:6},a().createElement("img",{alt:"验证码",src:(null==Z||null===(e=Z.data)||void 0===e?void 0:e.item)&&"data:image/png;base64,".concat(Z.data.item),style:{height:31,width:"100%",border:"1px solid gray",padding:3,cursor:"pointer"},onClick:P})))),a().createElement(s.Z.Item,E,a().createElement(p.Z,{block:!0,type:"primary",onClick:k},"注册")),a().createElement(s.Z.Item,g({},E,{className:"text-right"}),a().createElement(d.Link,{to:"/login"},"使用已有账号登录")))))}));t.default=Z}}]);
//# sourceMappingURL=493.js.map